<!DOCTYPE html>
<html xmlns="http://w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org"
      >
    <head>
        <title>Biblioteca Resenha</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}"> 
        <link rel="stylesheet" th:href="@{/css/styles.css}" />
        <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    </head>
    <header th:insert=~{navbar.html}></header>
    <body>
        <div class="container">
            <div class="row justify-content-center" id="livros-list">               
                <div th:each="livro : ${livros}" class="livro p2 mb-2 col-sm-3">
                    <div>
                        <a th:href="@{'/detalhes/' + ${livro.id}}">
                            <th:block th:with="livroNome=${livro.nome.replaceAll(' ', '_')}, livroAutor=${livro.autor.replaceAll(' ', '_')}, imagemNome=${livroNome + '_' + livroAutor}">
                                <img class="w-100" th:src="@{'../images/' + ${imagemNome + '.jpg'}}" alt="" title=""
                                     th:alt="${livro.nome}" th:title="${livro.nome}"
                                     onerror="this.src='../images/img_placeholder.jpg';">
                            </th:block>
                        </a>
                        <p>
                            <span th:text="${livro.nome}"></span>
                        </p>
                        <p>
                            <span  th:text="${livro.autor}"></span>
                        </p>
                    </div>
                </div>
            </div>
        </div>         
        <script th:src="@{/js/script.js}"></script> 
    </body> 
</html>
